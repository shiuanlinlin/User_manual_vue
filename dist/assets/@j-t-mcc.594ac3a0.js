import{r as l,C as u}from"./chart.js.535d675f.js";import{d as _,r as b,o as P,h as w}from"./@vue.73b154b2.js";var O=Object.defineProperty,p=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,d=(t,e,a)=>e in t?O(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,n=(t,e)=>{for(var a in e||(e={}))D.call(e,a)&&d(t,a,e[a]);if(p)for(var a of p(e))C.call(e,a)&&d(t,a,e[a]);return t};const f=["install","start","stop","beforeInit","afterInit","beforeUpdate","afterUpdate","beforeElementsUpdate","reset","beforeDatasetsUpdate","afterDatasetsUpdate","beforeDatasetUpdate","afterDatasetUpdate","beforeLayout","afterLayout","afterLayout","beforeRender","afterRender","resize","destroy","uninstall","afterTooltipDraw","beforeTooltipDraw"];function E(t,e=null){return{type:t,chartRef:e,preventDefault(){this._defaultPrevented=!0},isDefaultPrevented(){return!this._defaultPrevented},_defaultPrevented:!1}}function J(t,e){return{[e.type]:()=>(t(e.type,e),e.isDefaultPrevented())}}l!==void 0&&u.register(...l);const U=_({name:"Vue3ChartJs",props:{type:{type:String,required:!0},height:{type:Number,required:!1,default:null},width:{type:Number,required:!1,default:null},data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]}},emits:f,setup(t,{emit:e}){const a=b(null),c=f.reduce((o,v)=>{const m=E(v,a);return n(n({},o),J(e,m))},{id:"Vue3ChartJsEventHookPlugin"}),r={chart:null,plugins:[c,...t.plugins],props:n({},t)},h=()=>{r.chart&&(r.chart.destroy(),r.chart=null)},g=(o=750)=>{r.chart.data=n(n({},r.chart.data),r.props.data),r.chart.options=n(n({},r.chart.options),r.props.options),r.chart.update(o)},y=()=>r.chart&&r.chart.resize(),i=()=>r.chart?r.chart.update():r.chart=new u(a.value.getContext("2d"),{type:r.props.type,data:r.props.data,options:r.props.options,plugins:r.plugins});return P(()=>i()),{chartJSState:r,chartRef:a,render:i,resize:y,update:g,destroy:h}},render(t){return w("canvas",{ref:"chartRef",height:t.height,width:t.width})}}),s=U;s.registerGlobalPlugins=t=>{u.register(...t)};s.install=(t,e={})=>{var a;t.component(s.name,s),(a=e==null?void 0:e.plugins)!=null&&a.length&&s.registerGlobalPlugins(e.plugins)};export{s as _};
